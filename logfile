LOG:  database system was interrupted; last known up at 2017-06-02 13:54:00 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/19E56D0: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  database system is ready to accept connections
LOG:  autovacuum launcher started
LOG:  database system was interrupted; last known up at 2017-06-05 16:43:26 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/19E7A60: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
ERROR:  cached plan must not change result type
STATEMENT:  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
FATAL:  lock file "postmaster.pid" already exists
HINT:  Is another postmaster (PID 768) running in data directory "/usr/local/var/postgres"?
LOG:  database system was interrupted; last known up at 2017-06-18 05:38:00 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/1AAB478: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
ERROR:  cached plan must not change result type
STATEMENT:  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1
LOG:  database system was interrupted; last known up at 2017-06-28 21:29:45 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/1C74DC0: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  database system is ready to accept connections
LOG:  autovacuum launcher started
ERROR:  type "reference" does not exist at character 42
STATEMENT:  ALTER TABLE "consultations" ADD "doctor" reference
FATAL:  database "simple_messages_app_development" does not exist
ERROR:  insert or update on table "messages" violates foreign key constraint "fk_rails_273a25a7a6"
DETAIL:  Key (user_id)=(5) is not present in table "users".
STATEMENT:  INSERT INTO "messages" ("body", "user_id", "conversation_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"
LOG:  autovacuum launcher shutting down
LOG:  received smart shutdown request
LOG:  shutting down
LOG:  database system is shut down
LOG:  database system was shut down at 2017-07-03 19:10:05 BST
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
ERROR:  insert or update on table "messages" violates foreign key constraint "fk_rails_273a25a7a6"
DETAIL:  Key (user_id)=(5) is not present in table "users".
STATEMENT:  INSERT INTO "messages" ("body", "user_id", "conversation_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"
ERROR:  insert or update on table "messages" violates foreign key constraint "fk_rails_273a25a7a6"
DETAIL:  Key (user_id)=(5) is not present in table "users".
STATEMENT:  INSERT INTO "messages" ("body", "user_id", "conversation_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"
LOG:  database system was interrupted; last known up at 2017-07-04 16:56:09 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/1D09B38: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
FATAL:  lock file "postmaster.pid" already exists
HINT:  Is another postmaster (PID 1253) running in data directory "/usr/local/var/postgres"?
FATAL:  lock file "postmaster.pid" already exists
HINT:  Is another postmaster (PID 1253) running in data directory "/usr/local/var/postgres"?
FATAL:  lock file "postmaster.pid" already exists
HINT:  Is another postmaster (PID 1253) running in data directory "/usr/local/var/postgres"?
LOG:  database system was interrupted; last known up at 2017-07-06 15:59:55 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/1D17B98: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
LOG:  database system was interrupted; last known up at 2017-07-12 23:40:59 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/1D8FFF8: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
ERROR:  column "start_time" cannot be cast automatically to type timestamp without time zone
HINT:  You might need to specify "USING start_time::timestamp without time zone".
STATEMENT:  ALTER TABLE "consultations" ALTER COLUMN "start_time" TYPE timestamp
ERROR:  column "start_time" is of type timestamp without time zone but expression is of type time without time zone at character 181
HINT:  You will need to rewrite or cast the expression.
STATEMENT:  INSERT INTO "consultations" ("discipline", "service", "tool", "date", "professional", "start_time", "user_id", "doctor_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"
ERROR:  cached plan must not change result type
STATEMENT:  SELECT "consultations".* FROM "consultations" WHERE "consultations"."doctor_id" = $1
ERROR:  cached plan must not change result type
STATEMENT:  SELECT "consultations".* FROM "consultations" WHERE "consultations"."doctor_id" = $1
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  autovacuum launcher shutting down
LOG:  received smart shutdown request
LOG:  shutting down
LOG:  database system is shut down
LOG:  database system was shut down at 2017-07-20 00:37:26 BST
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
ERROR:  relation "pictures" does not exist
STATEMENT:  ALTER TABLE "pictures" ADD "upload_file_name" character varying
ERROR:  relation "pictures" does not exist
STATEMENT:  ALTER TABLE "pictures" ADD "upload_file_name" character varying
ERROR:  cached plan must not change result type
STATEMENT:  SELECT "rewards".* FROM "rewards" WHERE "rewards"."project_id" = $1
ERROR:  cached plan must not change result type
STATEMENT:  SELECT "rewards".* FROM "rewards" WHERE "rewards"."project_id" = $1
ERROR:  cached plan must not change result type
STATEMENT:  SELECT  "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT 1
ERROR:  cached plan must not change result type
STATEMENT:  SELECT  "projects".* FROM "projects" WHERE "projects"."id" = $1 LIMIT 1
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  autovacuum launcher shutting down
LOG:  received smart shutdown request
LOG:  shutting down
LOG:  database system is shut down
LOG:  database system was shut down at 2017-07-25 00:26:33 BST
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
ERROR:  cached plan must not change result type
STATEMENT:  SELECT "consultations".* FROM "consultations" WHERE "consultations"."doctor_id" = $1
ERROR:  relation "consultation" does not exist
STATEMENT:  ALTER TABLE "consultation" RENAME COLUMN "start_time" TO "time"
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  database system was interrupted; last known up at 2017-07-28 10:44:50 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/1FEAD18: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
LOG:  could not open file "postmaster.pid": No such file or directory
LOG:  performing immediate shutdown because data directory lock file is invalid
LOG:  received immediate shutdown request
WARNING:  terminating connection because of crash of another server process
DETAIL:  The postmaster has commanded this server process to roll back the current transaction and exit, because another server process exited abnormally and possibly corrupted shared memory.
HINT:  In a moment you should be able to reconnect to the database and repeat your command.
LOG:  database system is shut down
LOG:  database system was interrupted; last known up at 2017-07-31 22:19:27 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/1FEAD88: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
ERROR:  cached plan must not change result type
STATEMENT:  SELECT  "consultations".* FROM "consultations" WHERE "consultations"."id" = $1 LIMIT 1
ERROR:  cached plan must not change result type
STATEMENT:  SELECT "consultations".* FROM "consultations" WHERE "consultations"."doctor_id" = $1
ERROR:  column "email" of relation "users" already exists
STATEMENT:  ALTER TABLE "users" ADD "email" character varying DEFAULT '' NOT NULL
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  database system was interrupted; last known up at 2017-08-16 19:11:08 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/21001E8: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
ERROR:  cached plan must not change result type
STATEMENT:  SELECT  "doctors".* FROM "doctors" WHERE "doctors"."id" = $1 LIMIT 1
ERROR:  relation "care_teams" already exists
STATEMENT:  CREATE TABLE "care_teams" ("id" serial primary key, "user_id" integer, "doctor_ids" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
ERROR:  relation "care_teams" already exists
STATEMENT:  CREATE TABLE "care_teams" ("id" serial primary key, "user_id" integer, "doctor_ids" integer[] DEFAULT '{}', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
ERROR:  relation "care_teams" already exists
STATEMENT:  CREATE TABLE "care_teams" ("id" serial primary key, "user_id" integer, "doctor_ids" integer[] DEFAULT '{}', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
ERROR:  database "doctoora_development" already exists
STATEMENT:  CREATE DATABASE "doctoora_development" ENCODING = 'unicode'
ERROR:  database "doctoora_test" already exists
STATEMENT:  CREATE DATABASE "doctoora_test" ENCODING = 'unicode'
ERROR:  cached plan must not change result type
STATEMENT:  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1
ERROR:  cached plan must not change result type
STATEMENT:  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1
LOG:  database system was interrupted; last known up at 2017-08-25 16:47:05 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/22B2FC0: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
ERROR:  relation "admins" does not exist at character 24
STATEMENT:  SELECT "admins".* FROM "admins"
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  using stale statistics instead of current ones because stats collector is not responding
LOG:  autovacuum launcher shutting down
LOG:  received smart shutdown request
LOG:  shutting down
LOG:  database system is shut down
LOG:  database system was interrupted; last known up at 2017-09-09 14:51:57 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/22FF108: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
ERROR:  operator does not exist: text == unknown at character 64
HINT:  No operator matches the given name and argument type(s). You might need to add explicit type casts.
STATEMENT:  SELECT "doctors".* FROM "doctors" WHERE (lower(specialization) == 'lagos' and lower(town) == 'medical')  ORDER BY created_at DESC
LOG:  database system was interrupted; last known up at 2017-09-11 17:57:49 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/23396A8: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
ERROR:  update or delete on table "doctors" violates foreign key constraint "fk_rails_b1f629cdac" on table "consultations"
DETAIL:  Key (id)=(1) is still referenced from table "consultations".
STATEMENT:  DELETE FROM "doctors" WHERE "doctors"."id" = $1
ERROR:  update or delete on table "doctors" violates foreign key constraint "fk_rails_b1f629cdac" on table "consultations"
DETAIL:  Key (id)=(1) is still referenced from table "consultations".
STATEMENT:  DELETE FROM "doctors" WHERE "doctors"."id" = $1
ERROR:  syntax error at or near ")" at character 126
STATEMENT:  SELECT "care_team_doctor_statuses".* FROM "care_team_doctor_statuses" WHERE (joined = false AND doctor_id = params[:doctor_id)
ERROR:  column "params" does not exist at character 109
STATEMENT:  SELECT "care_team_doctor_statuses".* FROM "care_team_doctor_statuses" WHERE (joined = false AND doctor_id = params[:doctor_id])
ERROR:  column "params" does not exist at character 109
STATEMENT:  SELECT "care_team_doctor_statuses".* FROM "care_team_doctor_statuses" WHERE (joined = false AND doctor_id = params[:doctor_id])
ERROR:  missing FROM-clause entry for table "current_doctor" at character 109
STATEMENT:  SELECT "care_team_doctor_statuses".* FROM "care_team_doctor_statuses" WHERE (joined = false AND doctor_id = current_doctor.id)
ERROR:  column "params" does not exist at character 109
STATEMENT:  SELECT "care_team_doctor_statuses".* FROM "care_team_doctor_statuses" WHERE (joined = false AND doctor_id = params[:doctor_id])
LOG:  database system was interrupted; last known up at 2017-09-14 02:32:12 BST
LOG:  database system was not properly shut down; automatic recovery in progress
LOG:  invalid record length at 0/23547E8: wanted 24, got 0
LOG:  redo is not required
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
LOG:  autovacuum launcher shutting down
LOG:  received smart shutdown request
LOG:  shutting down
LOG:  database system is shut down
LOG:  database system was shut down at 2017-09-28 17:45:57 BST
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
ERROR:  cached plan must not change result type
STATEMENT:  SELECT "notifications".* FROM "notifications" WHERE "notifications"."doctor_id" = $1
ERROR:  update or delete on table "care_teams" violates foreign key constraint "fk_rails_10b391fad9" on table "care_team_doctor_statuses"
DETAIL:  Key (id)=(3) is still referenced from table "care_team_doctor_statuses".
STATEMENT:  DELETE FROM "care_teams" WHERE "care_teams"."id" = $1
ERROR:  function is_today(timestamp without time zone) does not exist at character 54
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
STATEMENT:  SELECT "consultations".* FROM "consultations" WHERE (is_today(date_and_time) == 't' AND doctor_id = 6)
ERROR:  function is_today(timestamp without time zone) does not exist at character 54
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
STATEMENT:  SELECT "consultations".* FROM "consultations" WHERE (is_today(date_and_time) = 't' AND doctor_id = 6)
ERROR:  function is_today(timestamp without time zone) does not exist at character 54
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
STATEMENT:  SELECT "consultations".* FROM "consultations" WHERE (is_today(date_and_time) == 't' AND doctor_id = 6)
ERROR:  function is_today(timestamp without time zone) does not exist at character 54
HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
STATEMENT:  SELECT "consultations".* FROM "consultations" WHERE (is_today(date_and_time) == 't' AND doctor_id = 6)
ERROR:  column "accepted" does not exist at character 129
STATEMENT:  SELECT "consultations".* FROM "consultations" WHERE (date_and_time >= '2017-10-01 01:14:23.331581' AND user_id = 1 AND status = accepted)
ERROR:  cached plan must not change result type
STATEMENT:  SELECT "notifications".* FROM "notifications" WHERE "notifications"."user_id" = $1
ERROR:  cached plan must not change result type
STATEMENT:  SELECT "notifications".* FROM "notifications" WHERE "notifications"."doctor_id" = $1
LOG:  received smart shutdown request
LOG:  autovacuum launcher shutting down
LOG:  shutting down
LOG:  database system is shut down
LOG:  database system was shut down at 2017-10-01 18:34:12 BST
LOG:  MultiXact member wraparound protections are now enabled
LOG:  autovacuum launcher started
LOG:  database system is ready to accept connections
LOG:  using stale statistics instead of current ones because stats collector is not responding
